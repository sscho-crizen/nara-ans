<!doctype html>
<html lang="ko" data-layout="horizontal" data-topbar="light" data-sidebar="light" data-sidebar-size="lg" data-sidebar-image="none" data-preloader="disable">
<head>
<meta charset="utf-8" />
<title>나라신용정보 - ANS</title>
<link rel="shortcut icon" href="../images/favicon.ico">
<!-- CSS -->
<link href="../css/bootstrap.custom.css" rel="stylesheet" type="text/css" />
<link href="../css/app.css" rel="stylesheet" type="text/css" />
<link href="../css/custom.css" rel="stylesheet" type="text/css" />
<!-- JS -->
<script src="../js/jquery.min.js"></script>
<script src="../js/bootstrap.bundle.min.js"></script>
<script src="../js/flatpickr.js"></script>
<script src="../js/flatpickr_ko.js"></script>
<script src="../js/common.js"></script>
<script type="text/javascript">
$(document).ready(function(){
  //시간
  flatpickr(".flatpickr", {
    dateFormat: "Y-m-d",
    locale: "ko",
  });

  //날짜 + 시간
  flatpickr(".date-timepicker", {
    enableTime: true,
    dateFormat: "Y-m-d H:i",
    locale: "ko",
  });

  //날짜 범위
  flatpickr(".rangepicker", {
    mode: "range",
    dateFormat: "Y-m-d",
    locale: "ko",
  });

  //날짜 범위
  flatpickr(".flatpickr-year", {
    onReady: function (selectedDates, dateStr, instance) {
      replaceYearSelect(instance);
    },
    onOpen: function (selectedDates, dateStr, instance) {
      replaceYearSelect(instance);
    },
  });

  function replaceYearSelect(instance) {
    var $numInputWrapper = $(instance.calendarContainer).find(".numInputWrapper");

    if ($numInputWrapper.length) {
      $numInputWrapper.addClass("select-year");

      var $yearInput = $numInputWrapper.find("input[type='number']");

      if ($yearInput.length) {
        var startYear = 1960,
            endYear = 2030,            
            $yearSelect = $("<select>").addClass("form-select w-auto");  

        for (let year = startYear; year <= endYear; year++) {
          var $option = $("<option>").val(year).text(year);

          if (year === parseInt($yearInput.val(), 10)) {
            $option.prop("selected", true);
          }                 
          $yearSelect.append($option);
        }                
        
        $yearInput.replaceWith($yearSelect);
    
        $yearSelect.on("change", function () {
          instance.changeYear(parseInt($(this).val(), 10));
        });
      }
    }
  }
});
</script>
</head>
<body>
<div id="layout-wrapper">
  <section class="main-content">
    <main class="page-content">
      <div class="container-fixed">
        <div class="content">
          <!-- Content -->
          <div class="page-header-wrap">
            <h2 class="page-header">flatpickr</h2>
          </div>
          <p>
            <a href="https://flatpickr.js.org/examples/" target="_blank">https://flatpickr.js.org/</a>
          </p>
          <table class="table table-form">
            <colgroup>
              <col width="10%" />
              <col width="40%" />
              <col width="10%" />
              <col width="" />
            </colgroup>
            <tbody>
              <tr>
                <th>날짜</th>
                <td>
                  <div class="input-group w-date">
                    <input type="text" class="form-control flatpickr" placeholder="" />
                    <button type="button" class="btn btn-outline-default"><i class="ri-calendar-line"></i></button>
                  </div>
                </td>
                <th>날짜+시간</th>
                <td>
                  <div class="input-group w-date-time">
                    <input type="text" class="form-control date-timepicker" placeholder="" />
                    <button type="button" class="btn btn-outline-default"><i class="ri-calendar-line"></i></button>
                  </div>
                </td>
              </tr>
              <tr>                
                <th>날짜 범위</th>
                <td>
                  <div class="input-group w-range">
                    <input type="text" class="form-control rangepicker" placeholder="" />
                    <span class="input-group-text"><i class="ri-calendar-line"></i></span>
                  </div>
                </td>
                <th>년도 selectbox로 변경</th>
                <td>
                  <div class="input-group w-range">
                    <input type="text" class="form-control flatpickr-year" placeholder="" />
                    <span class="input-group-text"><i class="ri-calendar-line"></i></span>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
          <!-- //Content -->
        </div>
      </div>
    </main>
    <!-- Footer -->
    <footer class="footer">
      <div class="container-fixed">
        <small class="text-muted">© 2024 - Nara Credit Service Co.,LTD. All Rights Reserved.</small>
      </div>
    </footer>
  </section>
</div>
<!-- END layout-wrapper -->
</body>
</html>